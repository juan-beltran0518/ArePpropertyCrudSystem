<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Propiedades - Simple</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <!-- Notification Container -->
    <div id="notification" class="notification hidden"></div>
    
    <!-- Header -->
    <header>
        <h1>Sistema de Propiedades</h1>
        <button id="showFormBtn" onclick="showForm()">Agregar Propiedad</button>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Search Filters -->
        <div id="searchSection" class="search-section">
            <h3>Buscar Propiedades</h3>
            <div class="search-filters">
                <div class="filter-group">
                    <label for="searchAddress">Dirección:</label>
                    <input type="text" id="searchAddress" placeholder="Buscar por dirección..." onkeyup="filterProperties()">
                </div>
                <div class="filter-group">
                    <label for="minPrice">Precio mínimo:</label>
                    <input type="number" id="minPrice" placeholder="0" onchange="filterProperties()">
                </div>
                <div class="filter-group">
                    <label for="maxPrice">Precio máximo:</label>
                    <input type="number" id="maxPrice" placeholder="Sin límite" onchange="filterProperties()">
                </div>
                <div class="filter-group">
                    <label for="minSize">Área mínima (m²):</label>
                    <input type="number" id="minSize" placeholder="0" onchange="filterProperties()">
                </div>
                <button type="button" onclick="clearFilters()">Limpiar Filtros</button>
            </div>
        </div>

        <!-- Property Form -->
        <div id="formSection" class="form-section hidden">
            <h2 id="formTitle">Agregar Nueva Propiedad</h2>
            <form id="propertyForm">
                <div class="form-group">
                    <label for="address">Dirección:</label>
                    <input type="text" id="address" name="address" required>
                </div>
                
                <div class="form-group">
                    <label for="price">Precio:</label>
                    <input type="number" id="price" name="price" required min="0" step="0.01">
                </div>
                
                <div class="form-group">
                    <label for="size">Área (m²):</label>
                    <input type="number" id="size" name="size" required min="1" step="0.01">
                </div>
                
                <div class="form-group">
                    <label for="description">Descripción:</label>
                    <textarea id="description" name="description" rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="ownerName">Nombre del Propietario:</label>
                    <input type="text" id="ownerName" name="ownerName" required>
                </div>
                
                <div class="form-actions">
                    <button type="button" onclick="hideForm()">Cancelar</button>
                    <button type="submit">Guardar</button>
                </div>
            </form>
        </div>

        <!-- Properties List -->
        <div class="properties-section">
            <h2>Lista de Propiedades</h2>
            <div id="loading" class="hidden">Cargando...</div>
            <div id="emptyState" class="empty-state">No hay propiedades registradas</div>
            
            <table id="propertiesTable" class="properties-table hidden">
                <thead>
                    <tr>
                        <th>Dirección</th>
                        <th>Precio</th>
                        <th>Área (m²)</th>
                        <th>Propietario</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="propertiesTableBody">
                    <!-- Las filas se cargarán dinámicamente -->
                </tbody>
            </table>
            
            <!-- Pagination -->
            <div id="paginationContainer" class="pagination-container hidden">
                <div class="pagination-info">
                    <span id="paginationInfo">Mostrando 0 de 0 propiedades</span>
                </div>
                <div class="pagination-controls">
                    <button id="prevBtn" onclick="changePage(-1)" disabled>Anterior</button>
                    <span id="pageNumbers"></span>
                    <button id="nextBtn" onclick="changePage(1)" disabled>Siguiente</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Simple Modal for Delete Confirmation -->
    <div id="deleteModal" class="modal hidden">
        <div class="modal-content">
            <h3>Confirmar Eliminación</h3>
            <p>¿Estás seguro de que deseas eliminar esta propiedad?</p>
            <div class="modal-actions">
                <button onclick="closeDeleteModal()">Cancelar</button>
                <button id="confirmDeleteBtn" onclick="confirmDelete()">Eliminar</button>
            </div>
        </div>
    </div>

    <script src="/js/properties.js"></script>
</body>
</html>